{"uid":"74c09a8b186fd388","name":"TC_55!371b (Lang: en) | Bid:55!371b-en.au.NoAuth","fullName":"tests.US_55_ReTestsManual.tassobaccato.US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs#test_371b","historyId":"d0f8366f88c1a675af4ea6b726dafd44","time":{"start":1727248513224,"stop":1727248530429,"duration":17205},"description":"\n        Check: “CFD trading” page is not opened after clicking link in the tile \"Fast account opening\" in the block\n                “Why choose Capital.com?” on the page “Why Capital.com?” when ASIC license is selected.\n        Language: EN\n        License: ASIC\n        Author: Kasila\n        ","descriptionHtml":"<pre><code>    Check: “CFD trading” page is not opened after clicking link in the tile &quot;Fast account opening&quot; in the block\n            “Why choose Capital.com?” on the page “Why Capital.com?” when ASIC license is selected.\n    Language: EN\n    License: ASIC\n    Author: Kasila\n</code></pre>\n","status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'current_url'","statusTrace":"self = <US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs object at 0x7f9186538dd0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>\ncur_language = '', cur_country = 'au', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step('Start retest manual AT_55!371b: “CFD trading” page is opened')\n    @pytest.mark.parametrize('cur_language', [''])\n    @pytest.mark.parametrize('cur_country', ['au'])\n    @pytest.mark.parametrize('cur_role', [\"NoReg\", \"Auth\", \"NoAuth\"])\n    @pytest.mark.bug_371b\n    def test_371b(self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password):\n        \"\"\"\n        Check: “CFD trading” page is not opened after clicking link in the tile \"Fast account opening\" in the block\n                “Why choose Capital.com?” on the page “Why Capital.com?” when ASIC license is selected.\n        Language: EN\n        License: ASIC\n        Author: Kasila\n        \"\"\"\n    \n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"371b\", 'The text of the link is “Discover CFD trading”'\n        )\n    \n        host = Common().check_language_and_country_and_define_host(cur_language, cur_country)\n        page_conditions = Common().check_language_and_country_and_define_conditions(cur_language, cur_country,\n                                                                                    Conditions(d, \"\"),\n                                                                                    NewConditions_v1(d, \"\"))\n        link = page_conditions.preconditions(\n            d, host, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        menu = MenuNew(d, link)\n        cur_item_link = menu.from_about_us_menu_open_why_capital(d, cur_language, cur_country, link)\n    \n        test_element = DiscoverCFDTtradingLink(cur_item_link, bid)\n>       test_element.discover_cfd_trading_link(cur_item_link)\n\ntests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py:459: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/BugsManual/bug_371.py:24: in discover_cfd_trading_link\n    if not self.current_page_is(cur_item_link):\npages/base_page.py:86: in inner_function\n    return func(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.BugsManual.bug_371.DiscoverCFDTtradingLink object at 0x7f918627cda0>\nlink = 'https://capital.com/en-au/why-capital'\n\n    @HandleExcElementsDecorator()\n    def current_page_is(self, link):\n>       print(f\"{datetime.now()}   current_page = {self.driver.current_url}\")\nE       AttributeError: 'str' object has no attribute 'current_url'\n\npages/base_page.py:423: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1727247367087,"stop":1727247367507,"duration":420},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1727247367507,"stop":1727247367507,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1727247367507,"stop":1727247367507,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1727247367507,"stop":1727247367507,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Check: “CFD trading” page is not opened after clicking link in the tile \"Fast account opening\" in the block\n                “Why choose Capital.com?” on the page “Why Capital.com?” when ASIC license is selected.\n        Language: EN\n        License: ASIC\n        Author: Kasila\n        ","status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'current_url'","statusTrace":"self = <US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs object at 0x7f9186538dd0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>\ncur_language = '', cur_country = 'au', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step('Start retest manual AT_55!371b: “CFD trading” page is opened')\n    @pytest.mark.parametrize('cur_language', [''])\n    @pytest.mark.parametrize('cur_country', ['au'])\n    @pytest.mark.parametrize('cur_role', [\"NoReg\", \"Auth\", \"NoAuth\"])\n    @pytest.mark.bug_371b\n    def test_371b(self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password):\n        \"\"\"\n        Check: “CFD trading” page is not opened after clicking link in the tile \"Fast account opening\" in the block\n                “Why choose Capital.com?” on the page “Why Capital.com?” when ASIC license is selected.\n        Language: EN\n        License: ASIC\n        Author: Kasila\n        \"\"\"\n    \n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"371b\", 'The text of the link is “Discover CFD trading”'\n        )\n    \n        host = Common().check_language_and_country_and_define_host(cur_language, cur_country)\n        page_conditions = Common().check_language_and_country_and_define_conditions(cur_language, cur_country,\n                                                                                    Conditions(d, \"\"),\n                                                                                    NewConditions_v1(d, \"\"))\n        link = page_conditions.preconditions(\n            d, host, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        menu = MenuNew(d, link)\n        cur_item_link = menu.from_about_us_menu_open_why_capital(d, cur_language, cur_country, link)\n    \n        test_element = DiscoverCFDTtradingLink(cur_item_link, bid)\n>       test_element.discover_cfd_trading_link(cur_item_link)\n\ntests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py:459: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/BugsManual/bug_371.py:24: in discover_cfd_trading_link\n    if not self.current_page_is(cur_item_link):\npages/base_page.py:86: in inner_function\n    return func(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.BugsManual.bug_371.DiscoverCFDTtradingLink object at 0x7f918627cda0>\nlink = 'https://capital.com/en-au/why-capital'\n\n    @HandleExcElementsDecorator()\n    def current_page_is(self, link):\n>       print(f\"{datetime.now()}   current_page = {self.driver.current_url}\")\nE       AttributeError: 'str' object has no attribute 'current_url'\n\npages/base_page.py:423: AttributeError","steps":[{"name":"Start retest manual AT_55!371b: “CFD trading” page is opened","time":{"start":1727248513225,"stop":1727248530427,"duration":17202},"status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'current_url'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py\", line 459, in test_371b\n    test_element.discover_cfd_trading_link(cur_item_link)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/BugsManual/bug_371.py\", line 24, in discover_cfd_trading_link\n    if not self.current_page_is(cur_item_link):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/base_page.py\", line 86, in inner_function\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/base_page.py\", line 423, in current_page_is\n    print(f\"{datetime.now()}   current_page = {self.driver.current_url}\")\n                                               ^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Build dynamic argument for TCs of US_55","time":{"start":1727248513225,"stop":1727248513227,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"worker_id","value":"'master'"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"us","value":"'55'"},{"name":"desc_us","value":"'ReTests of Manual Detected Bugs'"},{"name":"num_tc","value":"'371b'"},{"name":"desc_tc","value":"'The text of the link is “Discover CFD trading”'"},{"name":"manual","value":"False"},{"name":"new_layout","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"   Set New preconditions","time":{"start":1727248513227,"stop":1727248522285,"duration":9058},"status":"passed","steps":[{"name":"2024-09-25 06:56:07.071300   Start Authorisation","time":{"start":1727248518248,"stop":1727248520298,"duration":2050},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"link","value":"'https://capital.com/en-au'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-09-25 06:56:07.071313   Start DeAuthorisation","time":{"start":1727248520298,"stop":1727248520968,"duration":670},"status":"passed","steps":[{"name":"Start Logout from account info menu in top bar","time":{"start":1727248520298,"stop":1727248520967,"duration":669},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"link","value":"'https://capital.com/en-au'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-09-25 06:56:07.071325   Set language and country","time":{"start":1727248520968,"stop":1727248522280,"duration":1312},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"cur_language","value":"'en'"},{"name":"cur_country","value":"'au'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"host","value":"'https://capital.com/en-au'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select \"About us\" menu, \"Why Capital.com?\" submenu","time":{"start":1727248522285,"stop":1727248530425,"duration":8140},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'au'"},{"name":"link","value":"'https://capital.com/en-au'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-09-25 06:56:06.918236   Start testing that the text of the link is “Discover CFD trading”","time":{"start":1727248530425,"stop":1727248530425,"duration":0},"status":"broken","statusMessage":"AttributeError: 'str' object has no attribute 'current_url'\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/BugsManual/bug_371.py\", line 24, in discover_cfd_trading_link\n    if not self.current_page_is(cur_item_link):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/base_page.py\", line 86, in inner_function\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/base_page.py\", line 423, in current_page_is\n    print(f\"{datetime.now()}   current_page = {self.driver.current_url}\")\n                                               ^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"cur_item_link","value":"'https://capital.com/en-au/why-capital'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d83b3c6d85e8c91d210c9d87ecb11260\")>"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"efaca42e0b4de1ac","name":"Screenshot","source":"efaca42e0b4de1ac.png","type":"image/png","size":411620},{"uid":"947aca45431f22e1","name":"stdout","source":"947aca45431f22e1.txt","type":"text/plain","size":5533}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1727248530754,"stop":1727248530995,"duration":241},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"TC_55!371b | The text of the link is “Discover CFD trading”"},{"name":"feature","value":"Role: NoAuth"},{"name":"story","value":"Country: au"},{"name":"tag","value":"bug_371b"},{"name":"tag","value":"us_55"},{"name":"parentSuite","value":"tests.US_55_ReTestsManual.tassobaccato"},{"name":"suite","value":"US_55-tassobaccato_ReTestsManual_test"},{"name":"subSuite","value":"TestManualDetectedBugs"},{"name":"host","value":"fv-az530-810"},{"name":"thread","value":"30503-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_55_ReTestsManual.tassobaccato.US_55-tassobaccato_ReTestsManual_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'au'"},{"name":"cur_language","value":"''"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["bug_371b","us_55"]},"source":"74c09a8b186fd388.json","parameterValues":["'au'","''","'test001.miketar+1@gmail.com'","'Qwer1234-!@#$'","'NoAuth'","'Chrome'"]}