{"uid":"4822ba42fc61bcf0","name":"TC_01.03.01_001 | Testing button [Add to favourite] on trading instrument page. Bid:01.03.01_001-zh.au.Auth","fullName":"tests.US_01_Markets.US_01-03_Forex.US_01-03-01_forex_tests.TestTradingInstrumentPage#test_001_page_trading_instrument_add_to_favourite_button","historyId":"9bc5916a636c614b15e86599d50fabf4","time":{"start":1713969678747,"stop":1713969709841,"duration":31094},"description":"\n        Check: Button [Add to favourite]\n        Language: All. License: All,except FCA.\n        ","descriptionHtml":"<pre><code>    Check: Button [Add to favourite]\n    Language: All. License: All,except FCA.\n</code></pre>\n","status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">","statusTrace":"self = <US_01-03-01_forex_tests.TestTradingInstrumentPage object at 0x7ff17d252810>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>\ncur_language = 'zh', cur_country = 'au', cur_role = 'Auth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\ncur_item_link = 'https://capital.com/zh/aud-jpy-feilv'\n\n    @allure.step(\"Start test_01.03.01_001 of button [Add to favorite] on trading instrument page'\")\n    @pytest.mark.test_001\n    def test_001_page_trading_instrument_add_to_favourite_button(\n            self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password, cur_item_link):\n        \"\"\"\n        Check: Button [Add to favourite]\n        Language: All. License: All,except FCA.\n        \"\"\"\n        bid = build_dynamic_arg_v4(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"01.03\", \"Markets > Menu item [Forex]\",\n            \".01_001\", \"Testing button [Add to favourite] on trading instrument page\")\n    \n        Common().check_country_in_list_and_skip_if_present(cur_country, [\"gb\"])\n    \n        page_conditions = Conditions(d, \"\")\n        page_conditions.preconditions(\n            d, CapitalComPageSrc.URL, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        test_element = TradeCFDAddToFavoriteButton(d, cur_item_link, bid)\n>       test_element.full_test(d, cur_language, cur_country, cur_role, cur_item_link)\n\ntests/US_01_Markets/US_01-03_Forex/US_01-03-01_forex_tests.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/Elements/TradeCFDAddToFavouriteButton.py:30: in full_test\n    test_element.assert_trading_platform_with_selected_element(d, cur_item_link, tab, trade_instrument)\npages/Elements/AssertClass.py:183: in assert_trading_platform_with_selected_element\n    self.page_trading.should_be_trading_platform_page_with_selected_element(d, cur_link, tab, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:192: in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:255: in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\ntests/ReTestsAuto/ReTest_table_fill.py:148: in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\ntests/ReTestsAuto/ReTest_table_fill.py:40: in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\ntests/ReTestsAuto/GoogleSheets/googlesheets.py:134: in update_range_values\n    body=body).execute()\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py:130: in positional_wrapper\n    return wrapped(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <googleapiclient.http.HttpRequest object at 0x7ff17d05e240>\nhttp = <google_auth_httplib2.AuthorizedHttp object at 0x7ff17d03d640>\nnum_retries = 0\n\n    @util.positional(1)\n    def execute(self, http=None, num_retries=0):\n        \"\"\"Execute the request.\n    \n        Args:\n          http: httplib2.Http, an http object to be used in place of the\n                one the HttpRequest request object was constructed with.\n          num_retries: Integer, number of times to retry with randomized\n                exponential backoff. If all retries fail, the raised HttpError\n                represents the last request. If zero (default), we attempt the\n                request only once.\n    \n        Returns:\n          A deserialized object model of the response body as determined\n          by the postproc.\n    \n        Raises:\n          googleapiclient.errors.HttpError if the response was not a 2xx.\n          httplib2.HttpLib2Error if a transport error has occurred.\n        \"\"\"\n        if http is None:\n            http = self.http\n    \n        if self.resumable:\n            body = None\n            while body is None:\n                _, body = self.next_chunk(http=http, num_retries=num_retries)\n            return body\n    \n        # Non-resumable case.\n    \n        if \"content-length\" not in self.headers:\n            self.headers[\"content-length\"] = str(self.body_size)\n        # If the request URI is too long then turn it into a POST request.\n        # Assume that a GET request never contains a request body.\n        if len(self.uri) > MAX_URI_LENGTH and self.method == \"GET\":\n            self.method = \"POST\"\n            self.headers[\"x-http-method-override\"] = \"GET\"\n            self.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"\n            parsed = urllib.parse.urlparse(self.uri)\n            self.uri = urllib.parse.urlunparse(\n                (parsed.scheme, parsed.netloc, parsed.path, parsed.params, None, None)\n            )\n            self.body = parsed.query\n            self.headers[\"content-length\"] = str(len(self.body))\n    \n        # Handle retries for server-side errors.\n        resp, content = _retry_request(\n            http,\n            num_retries,\n            \"request\",\n            self._sleep,\n            self._rand,\n            str(self.uri),\n            method=str(self.method),\n            body=self.body,\n            headers=self.headers,\n        )\n    \n        for callback in self.response_callbacks:\n            callback(resp)\n        if resp.status >= 300:\n>           raise HttpError(resp, content, uri=self.uri)\nE           googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py:938: HttpError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1713969678320,"stop":1713969678745,"duration":425},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1713969678745,"stop":1713969678745,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1713969678746,"stop":1713969678746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1713969678746,"stop":1713969678746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_country","time":{"start":1713969678746,"stop":1713969678746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_role","time":{"start":1713969678746,"stop":1713969678746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_language","time":{"start":1713969678746,"stop":1713969678746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Check: Button [Add to favourite]\n        Language: All. License: All,except FCA.\n        ","status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">","statusTrace":"self = <US_01-03-01_forex_tests.TestTradingInstrumentPage object at 0x7ff17d252810>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>\ncur_language = 'zh', cur_country = 'au', cur_role = 'Auth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\ncur_item_link = 'https://capital.com/zh/aud-jpy-feilv'\n\n    @allure.step(\"Start test_01.03.01_001 of button [Add to favorite] on trading instrument page'\")\n    @pytest.mark.test_001\n    def test_001_page_trading_instrument_add_to_favourite_button(\n            self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password, cur_item_link):\n        \"\"\"\n        Check: Button [Add to favourite]\n        Language: All. License: All,except FCA.\n        \"\"\"\n        bid = build_dynamic_arg_v4(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"01.03\", \"Markets > Menu item [Forex]\",\n            \".01_001\", \"Testing button [Add to favourite] on trading instrument page\")\n    \n        Common().check_country_in_list_and_skip_if_present(cur_country, [\"gb\"])\n    \n        page_conditions = Conditions(d, \"\")\n        page_conditions.preconditions(\n            d, CapitalComPageSrc.URL, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        test_element = TradeCFDAddToFavoriteButton(d, cur_item_link, bid)\n>       test_element.full_test(d, cur_language, cur_country, cur_role, cur_item_link)\n\ntests/US_01_Markets/US_01-03_Forex/US_01-03-01_forex_tests.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/Elements/TradeCFDAddToFavouriteButton.py:30: in full_test\n    test_element.assert_trading_platform_with_selected_element(d, cur_item_link, tab, trade_instrument)\npages/Elements/AssertClass.py:183: in assert_trading_platform_with_selected_element\n    self.page_trading.should_be_trading_platform_page_with_selected_element(d, cur_link, tab, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:192: in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:255: in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\ntests/ReTestsAuto/ReTest_table_fill.py:148: in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\ntests/ReTestsAuto/ReTest_table_fill.py:40: in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\ntests/ReTestsAuto/GoogleSheets/googlesheets.py:134: in update_range_values\n    body=body).execute()\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py:130: in positional_wrapper\n    return wrapped(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <googleapiclient.http.HttpRequest object at 0x7ff17d05e240>\nhttp = <google_auth_httplib2.AuthorizedHttp object at 0x7ff17d03d640>\nnum_retries = 0\n\n    @util.positional(1)\n    def execute(self, http=None, num_retries=0):\n        \"\"\"Execute the request.\n    \n        Args:\n          http: httplib2.Http, an http object to be used in place of the\n                one the HttpRequest request object was constructed with.\n          num_retries: Integer, number of times to retry with randomized\n                exponential backoff. If all retries fail, the raised HttpError\n                represents the last request. If zero (default), we attempt the\n                request only once.\n    \n        Returns:\n          A deserialized object model of the response body as determined\n          by the postproc.\n    \n        Raises:\n          googleapiclient.errors.HttpError if the response was not a 2xx.\n          httplib2.HttpLib2Error if a transport error has occurred.\n        \"\"\"\n        if http is None:\n            http = self.http\n    \n        if self.resumable:\n            body = None\n            while body is None:\n                _, body = self.next_chunk(http=http, num_retries=num_retries)\n            return body\n    \n        # Non-resumable case.\n    \n        if \"content-length\" not in self.headers:\n            self.headers[\"content-length\"] = str(self.body_size)\n        # If the request URI is too long then turn it into a POST request.\n        # Assume that a GET request never contains a request body.\n        if len(self.uri) > MAX_URI_LENGTH and self.method == \"GET\":\n            self.method = \"POST\"\n            self.headers[\"x-http-method-override\"] = \"GET\"\n            self.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"\n            parsed = urllib.parse.urlparse(self.uri)\n            self.uri = urllib.parse.urlunparse(\n                (parsed.scheme, parsed.netloc, parsed.path, parsed.params, None, None)\n            )\n            self.body = parsed.query\n            self.headers[\"content-length\"] = str(len(self.body))\n    \n        # Handle retries for server-side errors.\n        resp, content = _retry_request(\n            http,\n            num_retries,\n            \"request\",\n            self._sleep,\n            self._rand,\n            str(self.uri),\n            method=str(self.method),\n            body=self.body,\n            headers=self.headers,\n        )\n    \n        for callback in self.response_callbacks:\n            callback(resp)\n        if resp.status >= 300:\n>           raise HttpError(resp, content, uri=self.uri)\nE           googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py:938: HttpError","steps":[{"name":"Start test_01.03.01_001 of button [Add to favorite] on trading instrument page'","time":{"start":1713969678747,"stop":1713969709840,"duration":31093},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_01_Markets/US_01-03_Forex/US_01-03-01_forex_tests.py\", line 56, in test_001_page_trading_instrument_add_to_favourite_button\n    test_element.full_test(d, cur_language, cur_country, cur_role, cur_item_link)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/TradeCFDAddToFavouriteButton.py\", line 30, in full_test\n    test_element.assert_trading_platform_with_selected_element(d, cur_item_link, tab, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/AssertClass.py\", line 183, in assert_trading_platform_with_selected_element\n    self.page_trading.should_be_trading_platform_page_with_selected_element(d, cur_link, tab, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 192, in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 255, in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"Preconditions","time":{"start":1713969678749,"stop":1713969698697,"duration":19948},"status":"passed","steps":[{"name":"2024-04-24 14:41:18.279857   Start Checking Captcha","time":{"start":1713969680808,"stop":1713969681850,"duration":1042},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Open 'Language and Country' menu section.","time":{"start":1713969684739,"stop":1713969686041,"duration":1302},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"test_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set country (licence)","time":{"start":1713969686042,"stop":1713969689560,"duration":3518},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cur_country","value":"'au'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Open 'Language and Country' menu section.","time":{"start":1713969689563,"stop":1713969690877,"duration":1314},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"test_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set language","time":{"start":1713969690877,"stop":1713969692551,"duration":1674},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cur_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Authorization","time":{"start":1713969692556,"stop":1713969698695,"duration":6139},"status":"passed","steps":[{"name":"Click [Log In] button","time":{"start":1713969692559,"stop":1713969692633,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check that form [Login] is opened","time":{"start":1713969692633,"stop":1713969692893,"duration":260},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"link","value":"'https://capital.com/zh'"},{"name":"cur_language","value":"'zh'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"host","value":"'https://capital.com/'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"'zh'"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'Auth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-04-24 14:41:18.281980   Start test for TradeCFDAddToFavoriteButton of the trading instrument page","time":{"start":1713969698697,"stop":1713969709839,"duration":11142},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/TradeCFDAddToFavouriteButton.py\", line 30, in full_test\n    test_element.assert_trading_platform_with_selected_element(d, cur_item_link, tab, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/AssertClass.py\", line 183, in assert_trading_platform_with_selected_element\n    self.page_trading.should_be_trading_platform_page_with_selected_element(d, cur_link, tab, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 192, in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 255, in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"2024-04-24 14:41:18.275616   Check that form [Sign up] opened","time":{"start":1713969700672,"stop":1713969702230,"duration":1558},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timeout","value":"1"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click button [Add to favourite]","time":{"start":1713969702231,"stop":1713969703729,"duration":1498},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cur_role","value":"'Auth'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Checking that \"Trading platform\" page opened and the element is selected","time":{"start":1713969703729,"stop":1713969709838,"duration":6109},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/AssertClass.py\", line 183, in assert_trading_platform_with_selected_element\n    self.page_trading.should_be_trading_platform_page_with_selected_element(d, cur_link, tab, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 192, in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 255, in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"Checking that the trading platform page has opened and the element is selected","time":{"start":1713969703729,"stop":1713969709838,"duration":6109},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 192, in should_be_trading_platform_page_with_selected_element\n    self.should_be_favourite_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 255, in should_be_favourite_trading_instrument\n    retest_table_fill(self.driver, self.bid, '19', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"2024-04-24 14:41:18.127469   Check that the page has the expected title - ver 2","time":{"start":1713969703737,"stop":1713969703742,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"title","value":"'Trading Platform | Capital.com'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713969707461,"stop":1713969707860,"duration":399},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'B1'"},{"name":"values","value":"[['Busy']]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713969709508,"stop":1713969709759,"duration":251},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'P1604'"},{"name":"values","value":"[[\"'19\"]]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713969709759,"stop":1713969709837,"duration":78},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24.04.2024 14:41:49\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'U1604'"},{"name":"values","value":"['24.04.2024 14:41:49']"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"test_link","value":"'https://capital.com/zh/aud-jpy-feilv'"},{"name":"tab","value":"('css selector', '.selected .iconex-favourites-outline')"},{"name":"trade_instrument","value":"'Australian Dollar / Japanese Yen'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"cur_link","value":"'https://capital.com/zh/aud-jpy-feilv'"},{"name":"tab","value":"('css selector', '.selected .iconex-favourites-outline')"},{"name":"trade_instrument","value":"'Australian Dollar / Japanese Yen'"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"cur_language","value":"'zh'"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'Auth'"},{"name":"cur_item_link","value":"'https://capital.com/zh/aud-jpy-feilv'"}],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"1101122cc0887283bc97c5635b5dfee0\")>"},{"name":"cur_language","value":"'zh'"},{"name":"cur_country","value":"'au'"},{"name":"cur_role","value":"'Auth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_item_link","value":"'https://capital.com/zh/aud-jpy-feilv'"}],"shouldDisplayMessage":false,"stepsCount":18,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"80ae804cca812dbf","name":"Screenshot","source":"80ae804cca812dbf.png","type":"image/png","size":74016},{"uid":"7f83e788bc9822c0","name":"log","source":"7f83e788bc9822c0.txt","type":"text/plain","size":1390},{"uid":"203e7757961cb2a","name":"stdout","source":"203e7757961cb2a.txt","type":"text/plain","size":8936}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":19,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1713970023862,"stop":1713970023990,"duration":128},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"US_01.03 | Markets > Menu item [Forex]"},{"name":"feature","value":"Language: zh"},{"name":"story","value":"Country: au / Role: Auth"},{"name":"tag","value":"test_001"},{"name":"tag","value":"us_01_03_01"},{"name":"parentSuite","value":"tests.US_01_Markets.US_01-03_Forex"},{"name":"suite","value":"US_01-03-01_forex_tests"},{"name":"subSuite","value":"TestTradingInstrumentPage"},{"name":"host","value":"fv-az1498-820"},{"name":"thread","value":"16102-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_01_Markets.US_01-03_Forex.US_01-03-01_forex_tests"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'au'"},{"name":"cur_item_link","value":"'https://capital.com/zh/aud-jpy-feilv'"},{"name":"cur_language","value":"'zh'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'Auth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["us_01_03_01","test_001"]},"source":"4822ba42fc61bcf0.json","parameterValues":["'au'","'https://capital.com/zh/aud-jpy-feilv'","'zh'","'test001.miketar+1@gmail.com'","'Qwer1234-!@#$'","'Auth'","'Chrome'"]}