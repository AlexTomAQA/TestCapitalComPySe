{"uid":"e8c58240a975f65b","name":"TC_55!386 (Lang: ar) | Bid:55!386-ar.ae.NoAuth","fullName":"tests.US_55_ReTestsManual.tassobaccato.US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs#test_386","historyId":"1b5730d66535c697cdcc29b863cfe455","time":{"start":1728780587477,"stop":1728780607076,"duration":19599},"description":"\n        Check: TC_55!386 | Error message “Access denied Error 16 … This request was blocked by our security service …”\n                is displayed after clicking the link “contact us in confidence” in the block “Your vulnerability risk”\n                on the page “Client vulnerability” when AR language is selected (SCA license).\n        Language: AR\n        License: SCA\n        Author: Kasila\n        ","descriptionHtml":"<pre><code>    Check: TC_55!386 | Error message “Access denied Error 16 … This request was blocked by our security service …”\n            is displayed after clicking the link “contact us in confidence” in the block “Your vulnerability risk”\n            on the page “Client vulnerability” when AR language is selected (SCA license).\n    Language: AR\n    License: SCA\n    Author: Kasila\n</code></pre>\n","status":"failed","statusMessage":"Failed: Bug # 55!386\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened","statusTrace":"self = <US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs object at 0x7fae53b3a9c0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>\ncur_language = 'ar', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step('Start retest manual AT_55!386: The \"Contact us\" page is opened')\n    @pytest.mark.parametrize('cur_language', ['ar'])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', [\"NoReg\", \"Auth\", \"NoAuth\"])\n    @pytest.mark.bug_386\n    def test_386(self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password):\n        \"\"\"\n        Check: TC_55!386 | Error message “Access denied Error 16 … This request was blocked by our security service …”\n                is displayed after clicking the link “contact us in confidence” in the block “Your vulnerability risk”\n                on the page “Client vulnerability” when AR language is selected (SCA license).\n        Language: AR\n        License: SCA\n        Author: Kasila\n        \"\"\"\n    \n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"386\", 'The \"Contact us\" page is opened'\n        )\n    \n        link = conditions_switch(d, cur_language, cur_country, cur_role, cur_login, cur_password)\n        menu = from_about_us_menu_open_client_vulnerability.MenuNew(d, link)\n        cur_item_link = menu.from_about_us_menu_open_client_vulnerability(d, cur_language, cur_country, link)\n    \n        test_element = ContactUs(d, cur_item_link, bid)\n        test_element.contact_us_in_confidence(d, cur_item_link)\n        test_element.element_click(d, link)\n>       test_element.assert_page(d)\n\ntests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py:477: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/BugsManual/bug_386.py:51: in assert_page\n    Common.pytest_fail(f\"Bug # 55!386\"\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmsg = \"Bug # 55!386\\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened\"\n\n    @staticmethod\n    def pytest_fail(msg):\n    \tCommon.flag_of_bug = True\n>   \tpytest.fail(msg)\nE    Failed: Bug # 55!386\nE    Expected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nE    Actual result: The page 'https://capital.com/en-mena/contact-us' is opened\n\npages/common.py:235: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1728779197041,"stop":1728779197681,"duration":640},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1728779197681,"stop":1728779197681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1728779197681,"stop":1728779197681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1728779197681,"stop":1728779197681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Check: TC_55!386 | Error message “Access denied Error 16 … This request was blocked by our security service …”\n                is displayed after clicking the link “contact us in confidence” in the block “Your vulnerability risk”\n                on the page “Client vulnerability” when AR language is selected (SCA license).\n        Language: AR\n        License: SCA\n        Author: Kasila\n        ","status":"failed","statusMessage":"Failed: Bug # 55!386\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened","statusTrace":"self = <US_55-tassobaccato_ReTestsManual_test.TestManualDetectedBugs object at 0x7fae53b3a9c0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>\ncur_language = 'ar', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step('Start retest manual AT_55!386: The \"Contact us\" page is opened')\n    @pytest.mark.parametrize('cur_language', ['ar'])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', [\"NoReg\", \"Auth\", \"NoAuth\"])\n    @pytest.mark.bug_386\n    def test_386(self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password):\n        \"\"\"\n        Check: TC_55!386 | Error message “Access denied Error 16 … This request was blocked by our security service …”\n                is displayed after clicking the link “contact us in confidence” in the block “Your vulnerability risk”\n                on the page “Client vulnerability” when AR language is selected (SCA license).\n        Language: AR\n        License: SCA\n        Author: Kasila\n        \"\"\"\n    \n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"386\", 'The \"Contact us\" page is opened'\n        )\n    \n        link = conditions_switch(d, cur_language, cur_country, cur_role, cur_login, cur_password)\n        menu = from_about_us_menu_open_client_vulnerability.MenuNew(d, link)\n        cur_item_link = menu.from_about_us_menu_open_client_vulnerability(d, cur_language, cur_country, link)\n    \n        test_element = ContactUs(d, cur_item_link, bid)\n        test_element.contact_us_in_confidence(d, cur_item_link)\n        test_element.element_click(d, link)\n>       test_element.assert_page(d)\n\ntests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py:477: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/BugsManual/bug_386.py:51: in assert_page\n    Common.pytest_fail(f\"Bug # 55!386\"\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmsg = \"Bug # 55!386\\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened\"\n\n    @staticmethod\n    def pytest_fail(msg):\n    \tCommon.flag_of_bug = True\n>   \tpytest.fail(msg)\nE    Failed: Bug # 55!386\nE    Expected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nE    Actual result: The page 'https://capital.com/en-mena/contact-us' is opened\n\npages/common.py:235: Failed","steps":[{"name":"Start retest manual AT_55!386: The \"Contact us\" page is opened","time":{"start":1728780587477,"stop":1728780607076,"duration":19599},"status":"failed","statusMessage":"Failed: Bug # 55!386\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_55_ReTestsManual/tassobaccato/US_55-tassobaccato_ReTestsManual_test.py\", line 477, in test_386\n    test_element.assert_page(d)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/BugsManual/bug_386.py\", line 51, in assert_page\n    Common.pytest_fail(f\"Bug # 55!386\"\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/common.py\", line 235, in pytest_fail\n    pytest.fail(msg)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Build dynamic argument for TCs of US_55","time":{"start":1728780587477,"stop":1728780587479,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"worker_id","value":"'master'"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"us","value":"'55'"},{"name":"desc_us","value":"'ReTests of Manual Detected Bugs'"},{"name":"num_tc","value":"'386'"},{"name":"desc_tc","value":"'The \"Contact us\" page is opened'"},{"name":"manual","value":"False"},{"name":"new_layout","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"   Set New preconditions","time":{"start":1728780587479,"stop":1728780597675,"duration":10196},"status":"passed","steps":[{"name":"2024-10-13 00:26:37.023505   Start Authorisation","time":{"start":1728780592846,"stop":1728780595817,"duration":2971},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"link","value":"'https://capital.com/en-gb'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-10-13 00:26:37.023518   Start DeAuthorisation","time":{"start":1728780595817,"stop":1728780596108,"duration":291},"status":"passed","steps":[{"name":"Start Logout from account info menu in top bar","time":{"start":1728780595817,"stop":1728780596108,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"link","value":"'https://capital.com/en-gb'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-10-13 00:26:37.023529   Set language and country","time":{"start":1728780596109,"stop":1728780597670,"duration":1561},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"host","value":"'https://capital.com/en-gb'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select \"About us\" menu, \"Client vulnerability\" submenu","time":{"start":1728780597675,"stop":1728780605856,"duration":8181},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"link","value":"'https://capital.com/ar-ae'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-10-13 00:26:36.854721   Start testing that the 'Contact us' page is opened","time":{"start":1728780605856,"stop":1728780605870,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"cur_item_link","value":"'https://capital.com/ar-ae/help/client-vulnerability'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-10-13 00:26:36.854748   Assert","time":{"start":1728780607072,"stop":1728780607075,"duration":3},"status":"failed","statusMessage":"Failed: Bug # 55!386\nExpected result: The page 'https://capital.com/ar-ae/contact-us' is opened\nActual result: The page 'https://capital.com/en-mena/contact-us' is opened\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/BugsManual/bug_386.py\", line 51, in assert_page\n    Common.pytest_fail(f\"Bug # 55!386\"\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/common.py\", line 235, in pytest_fail\n    pytest.fail(msg)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"d402ef9ace82ce19c8a971db30a528cf\")>"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bc505c2e322535ac","name":"Screenshot","source":"bc505c2e322535ac.png","type":"image/png","size":37344},{"uid":"5687f1412fc27d23","name":"stdout","source":"5687f1412fc27d23.txt","type":"text/plain","size":6033}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1728780607292,"stop":1728780607544,"duration":252},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"TC_55!386 | The \"Contact us\" page is opened"},{"name":"feature","value":"Role: NoAuth"},{"name":"story","value":"Country: ae"},{"name":"tag","value":"bug_386"},{"name":"tag","value":"us_55"},{"name":"parentSuite","value":"tests.US_55_ReTestsManual.tassobaccato"},{"name":"suite","value":"US_55-tassobaccato_ReTestsManual_test"},{"name":"subSuite","value":"TestManualDetectedBugs"},{"name":"host","value":"fv-az1148-325"},{"name":"thread","value":"31339-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_55_ReTestsManual.tassobaccato.US_55-tassobaccato_ReTestsManual_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'ae'"},{"name":"cur_language","value":"'ar'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":4},"items":[{"uid":"be3ce7022ca22f7","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/180//#testresult/be3ce7022ca22f7","status":"failed","statusDetails":"Failed: Bug # 55!386\nExpected result: The 'Contact us' page is not opened\nActual result: The page with title 'https://capital.com/en-mena/contact-us' is opened","time":{"start":1728694134865,"stop":1728694154397,"duration":19532}},{"uid":"99ae2dbaf8ed3cc2","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/179//#testresult/99ae2dbaf8ed3cc2","status":"failed","statusDetails":"Failed: Bug # 55!386\nExpected result: The 'Contact us' page is not opened\nActual result: The page with title 'https://capital.com/en-mena/contact-us' is opened","time":{"start":1728607725586,"stop":1728607746057,"duration":20471}},{"uid":"bd30f818ec42d9e3","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/178//#testresult/bd30f818ec42d9e3","status":"failed","statusDetails":"Failed: Bug № ??? 'About us' menu not present in DOM for 'ae' country 'ar' language","time":{"start":1728540883791,"stop":1728540900773,"duration":16982}}]},"tags":["bug_386","us_55"]},"source":"e8c58240a975f65b.json","parameterValues":["'ae'","'ar'","'test001.miketar+1@gmail.com'","'Qwer1234-!@#$'","'NoAuth'","'Chrome'"]}