{"uid":"ac3a34fd38a9720d","name":"TC_00.00_001 | Start test of button [Trade] in Widget 'Trading instrument'. Bid:00.00_001-zh.ae.Auth","fullName":"tests.US_00_Main_page.US_00-00_Main_page.us_00-00_main_page_test.TestMainPage#test_001_trading_instrument_widget_trade_button","historyId":"ed7ba94ccd26fde8fc51781a015dfa99","time":{"start":1713977843039,"stop":1713977869214,"duration":26175},"description":"\n        Check: Button [Trade] in Widget 'Trading instrument' Main Page\n        Language: ALL. License: Not FCA.\n        ","descriptionHtml":"<pre><code>    Check: Button [Trade] in Widget 'Trading instrument' Main Page\n    Language: ALL. License: Not FCA.\n</code></pre>\n","status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">","statusTrace":"self = <us_00-00_main_page_test.TestMainPage object at 0x7f1229e1b500>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>\ncur_language = 'zh', cur_country = 'ae', cur_role = 'Auth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\ncur_market = 'Most_traded'\n\n    @allure.step(\"Start test of button [Trade] in Widget 'Trading instrument'\")\n    @pytest.mark.test_001\n    def test_001_trading_instrument_widget_trade_button(\n            self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password, cur_market):\n        \"\"\"\n        Check: Button [Trade] in Widget 'Trading instrument' Main Page\n        Language: ALL. License: Not FCA.\n        \"\"\"\n    \n        bid = build_dynamic_arg_v4(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"00\", \"Main Page\",\n            \".00_001\", \"Start test of button [Trade] in Widget 'Trading instrument'\",\n            False, False\n        )\n    \n        Common().check_country_in_list_and_skip_if_not_present(\n            cur_country,\n            ['de', 'au', 'ae']\n        )\n        Common().check_market_in_list_and_skip_if_present(cur_market, [\n            'Commodities', 'Indices', 'Shares', 'Forex'\n        ])\n    \n        page_conditions = Conditions(d, \"\")\n        main_page_link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        test_element = TradingInstrumentTradeButton(d, main_page_link, bid)\n>       test_element.full_test(d, cur_language, cur_country, cur_role, main_page_link, cur_market)\n\ntests/US_00_Main_page/US_00-00_Main_page/us_00-00_main_page_test.py:328: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/Elements/TradingInstrumentTradeButton.py:46: in full_test\n    test_element.assert_trading_platform_v4(\npages/Elements/AssertClass.py:167: in assert_trading_platform_v4\n    self.page_trading.should_be_trading_platform_page_v4(d, cur_link, tpd, tpi, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:131: in should_be_trading_platform_page_v4\n    self.should_be_corresponding_trading_instrument(test_link, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:396: in should_be_corresponding_trading_instrument\n    retest_table_fill(self.driver, self.bid, '14', self.link)\ntests/ReTestsAuto/ReTest_table_fill.py:148: in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\ntests/ReTestsAuto/ReTest_table_fill.py:40: in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\ntests/ReTestsAuto/GoogleSheets/googlesheets.py:134: in update_range_values\n    body=body).execute()\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py:130: in positional_wrapper\n    return wrapped(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <googleapiclient.http.HttpRequest object at 0x7f122931efc0>\nhttp = <google_auth_httplib2.AuthorizedHttp object at 0x7f1229af95b0>\nnum_retries = 0\n\n    @util.positional(1)\n    def execute(self, http=None, num_retries=0):\n        \"\"\"Execute the request.\n    \n        Args:\n          http: httplib2.Http, an http object to be used in place of the\n                one the HttpRequest request object was constructed with.\n          num_retries: Integer, number of times to retry with randomized\n                exponential backoff. If all retries fail, the raised HttpError\n                represents the last request. If zero (default), we attempt the\n                request only once.\n    \n        Returns:\n          A deserialized object model of the response body as determined\n          by the postproc.\n    \n        Raises:\n          googleapiclient.errors.HttpError if the response was not a 2xx.\n          httplib2.HttpLib2Error if a transport error has occurred.\n        \"\"\"\n        if http is None:\n            http = self.http\n    \n        if self.resumable:\n            body = None\n            while body is None:\n                _, body = self.next_chunk(http=http, num_retries=num_retries)\n            return body\n    \n        # Non-resumable case.\n    \n        if \"content-length\" not in self.headers:\n            self.headers[\"content-length\"] = str(self.body_size)\n        # If the request URI is too long then turn it into a POST request.\n        # Assume that a GET request never contains a request body.\n        if len(self.uri) > MAX_URI_LENGTH and self.method == \"GET\":\n            self.method = \"POST\"\n            self.headers[\"x-http-method-override\"] = \"GET\"\n            self.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"\n            parsed = urllib.parse.urlparse(self.uri)\n            self.uri = urllib.parse.urlunparse(\n                (parsed.scheme, parsed.netloc, parsed.path, parsed.params, None, None)\n            )\n            self.body = parsed.query\n            self.headers[\"content-length\"] = str(len(self.body))\n    \n        # Handle retries for server-side errors.\n        resp, content = _retry_request(\n            http,\n            num_retries,\n            \"request\",\n            self._sleep,\n            self._rand,\n            str(self.uri),\n            method=str(self.method),\n            body=self.body,\n            headers=self.headers,\n        )\n    \n        for callback in self.response_callbacks:\n            callback(resp)\n        if resp.status >= 300:\n>           raise HttpError(resp, content, uri=self.uri)\nE           googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py:938: HttpError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1713977841315,"stop":1713977842790,"duration":1475},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1713977842790,"stop":1713977842790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_role","time":{"start":1713977842791,"stop":1713977842791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_country","time":{"start":1713977842791,"stop":1713977842791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1713977842791,"stop":1713977842791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1713977842791,"stop":1713977842791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_language","time":{"start":1713977842791,"stop":1713977842791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_market","time":{"start":1713977843038,"stop":1713977843038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Check: Button [Trade] in Widget 'Trading instrument' Main Page\n        Language: ALL. License: Not FCA.\n        ","status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">","statusTrace":"self = <us_00-00_main_page_test.TestMainPage object at 0x7f1229e1b500>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>\ncur_language = 'zh', cur_country = 'ae', cur_role = 'Auth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\ncur_market = 'Most_traded'\n\n    @allure.step(\"Start test of button [Trade] in Widget 'Trading instrument'\")\n    @pytest.mark.test_001\n    def test_001_trading_instrument_widget_trade_button(\n            self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password, cur_market):\n        \"\"\"\n        Check: Button [Trade] in Widget 'Trading instrument' Main Page\n        Language: ALL. License: Not FCA.\n        \"\"\"\n    \n        bid = build_dynamic_arg_v4(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"00\", \"Main Page\",\n            \".00_001\", \"Start test of button [Trade] in Widget 'Trading instrument'\",\n            False, False\n        )\n    \n        Common().check_country_in_list_and_skip_if_not_present(\n            cur_country,\n            ['de', 'au', 'ae']\n        )\n        Common().check_market_in_list_and_skip_if_present(cur_market, [\n            'Commodities', 'Indices', 'Shares', 'Forex'\n        ])\n    \n        page_conditions = Conditions(d, \"\")\n        main_page_link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL, \"\", cur_language, cur_country, cur_role, cur_login, cur_password)\n    \n        test_element = TradingInstrumentTradeButton(d, main_page_link, bid)\n>       test_element.full_test(d, cur_language, cur_country, cur_role, main_page_link, cur_market)\n\ntests/US_00_Main_page/US_00-00_Main_page/us_00-00_main_page_test.py:328: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/Elements/TradingInstrumentTradeButton.py:46: in full_test\n    test_element.assert_trading_platform_v4(\npages/Elements/AssertClass.py:167: in assert_trading_platform_v4\n    self.page_trading.should_be_trading_platform_page_v4(d, cur_link, tpd, tpi, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:131: in should_be_trading_platform_page_v4\n    self.should_be_corresponding_trading_instrument(test_link, trade_instrument)\npages/Capital/Trading_platform/trading_platform.py:396: in should_be_corresponding_trading_instrument\n    retest_table_fill(self.driver, self.bid, '14', self.link)\ntests/ReTestsAuto/ReTest_table_fill.py:148: in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\ntests/ReTestsAuto/ReTest_table_fill.py:40: in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\ntests/ReTestsAuto/GoogleSheets/googlesheets.py:134: in update_range_values\n    body=body).execute()\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py:130: in positional_wrapper\n    return wrapped(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <googleapiclient.http.HttpRequest object at 0x7f122931efc0>\nhttp = <google_auth_httplib2.AuthorizedHttp object at 0x7f1229af95b0>\nnum_retries = 0\n\n    @util.positional(1)\n    def execute(self, http=None, num_retries=0):\n        \"\"\"Execute the request.\n    \n        Args:\n          http: httplib2.Http, an http object to be used in place of the\n                one the HttpRequest request object was constructed with.\n          num_retries: Integer, number of times to retry with randomized\n                exponential backoff. If all retries fail, the raised HttpError\n                represents the last request. If zero (default), we attempt the\n                request only once.\n    \n        Returns:\n          A deserialized object model of the response body as determined\n          by the postproc.\n    \n        Raises:\n          googleapiclient.errors.HttpError if the response was not a 2xx.\n          httplib2.HttpLib2Error if a transport error has occurred.\n        \"\"\"\n        if http is None:\n            http = self.http\n    \n        if self.resumable:\n            body = None\n            while body is None:\n                _, body = self.next_chunk(http=http, num_retries=num_retries)\n            return body\n    \n        # Non-resumable case.\n    \n        if \"content-length\" not in self.headers:\n            self.headers[\"content-length\"] = str(self.body_size)\n        # If the request URI is too long then turn it into a POST request.\n        # Assume that a GET request never contains a request body.\n        if len(self.uri) > MAX_URI_LENGTH and self.method == \"GET\":\n            self.method = \"POST\"\n            self.headers[\"x-http-method-override\"] = \"GET\"\n            self.headers[\"content-type\"] = \"application/x-www-form-urlencoded\"\n            parsed = urllib.parse.urlparse(self.uri)\n            self.uri = urllib.parse.urlunparse(\n                (parsed.scheme, parsed.netloc, parsed.path, parsed.params, None, None)\n            )\n            self.body = parsed.query\n            self.headers[\"content-length\"] = str(len(self.body))\n    \n        # Handle retries for server-side errors.\n        resp, content = _retry_request(\n            http,\n            num_retries,\n            \"request\",\n            self._sleep,\n            self._rand,\n            str(self.uri),\n            method=str(self.method),\n            body=self.body,\n            headers=self.headers,\n        )\n    \n        for callback in self.response_callbacks:\n            callback(resp)\n        if resp.status >= 300:\n>           raise HttpError(resp, content, uri=self.uri)\nE           googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n\n../../../.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py:938: HttpError","steps":[{"name":"Start test of button [Trade] in Widget 'Trading instrument'","time":{"start":1713977843039,"stop":1713977869213,"duration":26174},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_00_Main_page/US_00-00_Main_page/us_00-00_main_page_test.py\", line 328, in test_001_trading_instrument_widget_trade_button\n    test_element.full_test(d, cur_language, cur_country, cur_role, main_page_link, cur_market)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/TradingInstrumentTradeButton.py\", line 46, in full_test\n    test_element.assert_trading_platform_v4(\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/AssertClass.py\", line 167, in assert_trading_platform_v4\n    self.page_trading.should_be_trading_platform_page_v4(d, cur_link, tpd, tpi, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 131, in should_be_trading_platform_page_v4\n    self.should_be_corresponding_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 396, in should_be_corresponding_trading_instrument\n    retest_table_fill(self.driver, self.bid, '14', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"Preconditions","time":{"start":1713977843040,"stop":1713977862062,"duration":19022},"status":"passed","steps":[{"name":"2024-04-24 16:57:21.190692   Start Checking Captcha","time":{"start":1713977845399,"stop":1713977846450,"duration":1051},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Open 'Language and Country' menu section.","time":{"start":1713977849364,"stop":1713977850756,"duration":1392},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"test_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set country (licence)","time":{"start":1713977850756,"stop":1713977853514,"duration":2758},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cur_country","value":"'ae'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Open 'Language and Country' menu section.","time":{"start":1713977853535,"stop":1713977854842,"duration":1307},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"test_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set language","time":{"start":1713977854842,"stop":1713977856493,"duration":1651},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cur_language","value":"'zh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Authorization","time":{"start":1713977856496,"stop":1713977862059,"duration":5563},"status":"passed","steps":[{"name":"Click [Log In] button","time":{"start":1713977856499,"stop":1713977856595,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check that form [Login] is opened","time":{"start":1713977856595,"stop":1713977856818,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"link","value":"'https://capital.com/zh'"},{"name":"cur_language","value":"'zh'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"host","value":"'https://capital.com/'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"'zh'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'Auth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click button [Trade] in 'Trading instrument' widget","time":{"start":1713977862194,"stop":1713977863784,"duration":1590},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"i","value":"3"},{"name":"cur_market","value":"'Most_traded'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Checking that \"Trading platform\" page opened - ver 4","time":{"start":1713977863784,"stop":1713977869212,"duration":5428},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Elements/AssertClass.py\", line 167, in assert_trading_platform_v4\n    self.page_trading.should_be_trading_platform_page_v4(d, cur_link, tpd, tpi, trade_instrument)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 131, in should_be_trading_platform_page_v4\n    self.should_be_corresponding_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 396, in should_be_corresponding_trading_instrument\n    retest_table_fill(self.driver, self.bid, '14', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"Checking that the trading platform page has opened - ver 4","time":{"start":1713977863784,"stop":1713977869211,"duration":5427},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 131, in should_be_trading_platform_page_v4\n    self.should_be_corresponding_trading_instrument(test_link, trade_instrument)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/Capital/Trading_platform/trading_platform.py\", line 396, in should_be_corresponding_trading_instrument\n    retest_table_fill(self.driver, self.bid, '14', self.link)\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 148, in retest_table_fill\n    bug_present = check_gs_table(bid, bug_n, manual)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/ReTest_table_fill.py\", line 40, in check_gs_table\n    gs.update_range_values(f'U{5 + index}', time_update)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[{"name":"2024-04-24 16:57:20.688843   Check that the page has the expected title - ver 2","time":{"start":1713977863794,"stop":1713977863797,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"title","value":"'Trading Platform | Capital.com'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713977867151,"stop":1713977867398,"duration":247},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'B1'"},{"name":"values","value":"[['Busy']]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713977868723,"stop":1713977869033,"duration":310},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'P1603'"},{"name":"values","value":"[[\"'14\"]]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixing one row check results into Google Sheet Bugs Report","time":{"start":1713977869033,"stop":1713977869210,"duration":177},"status":"broken","statusMessage":"googleapiclient.errors.HttpError: <HttpError 400 when requesting https://sheets.googleapis.com/v4/spreadsheets/1jG0hdjrUdjMFBYHXyBKRGbBwV0ICxfBPaBkgB98Nuuk/values:batchUpdate?alt=json returned \"Invalid value at 'data[0].values[0]' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"\". Details: \"[{'@type': 'type.googleapis.com/google.rpc.BadRequest', 'fieldViolations': [{'field': 'data[0].values[0]', 'description': 'Invalid value at \\'data[0].values[0]\\' (type.googleapis.com/google.protobuf.ListValue), \"24/04/2024 16:57:48\"'}]}]\">\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/ReTestsAuto/GoogleSheets/googlesheets.py\", line 134, in update_range_values\n    body=body).execute()\n               ^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\n    return wrapped(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/googleapiclient/http.py\", line 938, in execute\n    raise HttpError(resp, content, uri=self.uri)\n","steps":[],"attachments":[],"parameters":[{"name":"cell","value":"'U1603'"},{"name":"values","value":"['24/04/2024 16:57:48']"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"test_link","value":"'https://capital.com/zh'"},{"name":"tpd","value":"False"},{"name":"tpi","value":"True"},{"name":"trade_instrument","value":"'Natural Gas'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"cur_link","value":"'https://capital.com/zh'"},{"name":"tpd","value":"False"},{"name":"tpi","value":"True"},{"name":"trade_instrument","value":"'Natural Gas'"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"a5065abd9fcb41f97951fa1c66e3b4fc\")>"},{"name":"cur_language","value":"'zh'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'Auth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_market","value":"'Most_traded'"}],"shouldDisplayMessage":false,"stepsCount":16,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"389429df9ee1f3e2","name":"Screenshot","source":"389429df9ee1f3e2.png","type":"image/png","size":74203},{"uid":"64a214ecccd5ef4d","name":"stdout","source":"64a214ecccd5ef4d.txt","type":"text/plain","size":9306}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":17,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1713978110442,"stop":1713978110578,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"US_00 | Main Page"},{"name":"feature","value":"Language: zh"},{"name":"story","value":"Country: ae / Role: Auth"},{"name":"tag","value":"test_001"},{"name":"tag","value":"us_00_00"},{"name":"parentSuite","value":"tests.US_00_Main_page.US_00-00_Main_page"},{"name":"suite","value":"us_00-00_main_page_test"},{"name":"subSuite","value":"TestMainPage"},{"name":"host","value":"fv-az1153-853"},{"name":"thread","value":"3283-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_00_Main_page.US_00-00_Main_page.us_00-00_main_page_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'ae'"},{"name":"cur_language","value":"'zh'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_market","value":"'Most_traded'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'Auth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["us_00_00","test_001"]},"source":"ac3a34fd38a9720d.json","parameterValues":["'ae'","'zh'","'test001.miketar+1@gmail.com'","'Most_traded'","'Qwer1234-!@#$'","'Auth'","'Chrome'"]}