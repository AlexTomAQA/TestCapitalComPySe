{"uid":"cbf855e01b4c3f51","name":"TC_55!330 (Lang: en) | Bid:55!330-en.ae.NoAuth","fullName":"tests.US_55_ReTestsManual.saii-d3v.US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs#test_330","historyId":"c182b3097cb59b01d5ae825017fb7d51","time":{"start":1724975994487,"stop":1724976018506,"duration":24019},"description":"\n         Check: “Support” chat window is not opened after click on the “Support” button\n         and this button disappears after the second clicking on it on any page\n         after changing the language of the site (e.g. from EN to AR) (SCA license).\n         Language: AR, EN.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         ","descriptionHtml":"<pre><code>     Check: “Support” chat window is not opened after click on the “Support” button\n     and this button disappears after the second clicking on it on any page\n     after changing the language of the site (e.g. from EN to AR) (SCA license).\n     Language: AR, EN.\n     License: SCA.\n     Author: Sergey Aiidzhanov\n</code></pre>\n","status":"failed","statusMessage":"Failed: Bug!   De authorisation failed","statusTrace":"self = <US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs object at 0x7f7ce292b1d0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>\ncur_language = '', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step(\n        'Start retest manual TC_55!330 | “Support” chat window is not opened after click on the “Support” button '\n        'and this button disappears after the second clicking on it on any page '\n        'after changing the language of the site (e.g. from EN to AR) (SCA license).')\n    @pytest.mark.parametrize('cur_language', ['ar', ''])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', ['Auth', 'NoAuth', 'NoReg'])\n    @pytest.mark.bug_330\n    def test_330(self, worker_id, d, cur_language, cur_country, cur_role,\n                 cur_login, cur_password):\n        \"\"\"\n         Check: “Support” chat window is not opened after click on the “Support” button\n         and this button disappears after the second clicking on it on any page\n         after changing the language of the site (e.g. from EN to AR) (SCA license).\n         Language: AR, EN.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         \"\"\"\n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"330\",\n            '“Support” chat window is not opened after click on the “Support” button '\n            'and this button disappears after the second clicking on it on any page '\n            'after changing the language of the site (e.g. from EN to AR) (SCA license).',\n            False,\n            False\n        )\n    \n        # Arrange\n        page_conditions = NewConditions(d)\n>       link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL_NEW_EN_AE, \"\",\n            cur_language, cur_country, cur_role, cur_login, cur_password\n        )\n\ntests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py:846: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/conditions_new.py:110: in preconditions\n    self.to_do_de_authorisation_new(d, host)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.conditions_new.NewConditions object at 0x7f7ce294c620>\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>\nlink = 'https://capital.com/en-ae'\n\n    @allure.step(f\"{datetime.now()}   Start DeAuthorisation\")\n    def to_do_de_authorisation_new(self, d, link):\n        \"\"\"DeAuthorisation\"\"\"\n        print(f\"\\n\" f\"{datetime.now()}   Start DeAuthorisation\")\n    \n        top_bar = TopBar(d, link)\n        if not top_bar.trading_platform_top_bar_account_info_menu_logout():\n            msg = \"De authorisation failed\"\n            print(f\"{datetime.now()}   => {msg}\")\n>           pytest.fail(f\"Bug!   {msg}\")\nE           Failed: Bug!   De authorisation failed\n\npages/conditions_new.py:242: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1724974035192,"stop":1724974035591,"duration":399},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1724974035591,"stop":1724974035592,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1724974035591,"stop":1724974035591,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1724974035592,"stop":1724974035592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n         Check: “Support” chat window is not opened after click on the “Support” button\n         and this button disappears after the second clicking on it on any page\n         after changing the language of the site (e.g. from EN to AR) (SCA license).\n         Language: AR, EN.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         ","status":"failed","statusMessage":"Failed: Bug!   De authorisation failed","statusTrace":"self = <US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs object at 0x7f7ce292b1d0>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>\ncur_language = '', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step(\n        'Start retest manual TC_55!330 | “Support” chat window is not opened after click on the “Support” button '\n        'and this button disappears after the second clicking on it on any page '\n        'after changing the language of the site (e.g. from EN to AR) (SCA license).')\n    @pytest.mark.parametrize('cur_language', ['ar', ''])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', ['Auth', 'NoAuth', 'NoReg'])\n    @pytest.mark.bug_330\n    def test_330(self, worker_id, d, cur_language, cur_country, cur_role,\n                 cur_login, cur_password):\n        \"\"\"\n         Check: “Support” chat window is not opened after click on the “Support” button\n         and this button disappears after the second clicking on it on any page\n         after changing the language of the site (e.g. from EN to AR) (SCA license).\n         Language: AR, EN.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         \"\"\"\n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"330\",\n            '“Support” chat window is not opened after click on the “Support” button '\n            'and this button disappears after the second clicking on it on any page '\n            'after changing the language of the site (e.g. from EN to AR) (SCA license).',\n            False,\n            False\n        )\n    \n        # Arrange\n        page_conditions = NewConditions(d)\n>       link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL_NEW_EN_AE, \"\",\n            cur_language, cur_country, cur_role, cur_login, cur_password\n        )\n\ntests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py:846: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/conditions_new.py:110: in preconditions\n    self.to_do_de_authorisation_new(d, host)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.conditions_new.NewConditions object at 0x7f7ce294c620>\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>\nlink = 'https://capital.com/en-ae'\n\n    @allure.step(f\"{datetime.now()}   Start DeAuthorisation\")\n    def to_do_de_authorisation_new(self, d, link):\n        \"\"\"DeAuthorisation\"\"\"\n        print(f\"\\n\" f\"{datetime.now()}   Start DeAuthorisation\")\n    \n        top_bar = TopBar(d, link)\n        if not top_bar.trading_platform_top_bar_account_info_menu_logout():\n            msg = \"De authorisation failed\"\n            print(f\"{datetime.now()}   => {msg}\")\n>           pytest.fail(f\"Bug!   {msg}\")\nE           Failed: Bug!   De authorisation failed\n\npages/conditions_new.py:242: Failed","steps":[{"name":"Start retest manual TC_55!330 | “Support” chat window is not opened after click on the “Support” button and this button disappears after the second clicking on it on any page after changing the language of the site (e.g. from EN to AR) (SCA license).","time":{"start":1724975994487,"stop":1724976018505,"duration":24018},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py\", line 846, in test_330\n    link = page_conditions.preconditions(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 110, in preconditions\n    self.to_do_de_authorisation_new(d, host)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Build dynamic argument for TCs of US_55","time":{"start":1724975994488,"stop":1724975994489,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>"},{"name":"worker_id","value":"'master'"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"us","value":"'55'"},{"name":"desc_us","value":"'ReTests of Manual Detected Bugs'"},{"name":"num_tc","value":"'330'"},{"name":"desc_tc","value":"'“Support” chat window is not opened after click on the “Support” button and this button disappears after the second clicking on it on any page after changing the language of the site (e.g. from EN to AR) (SCA license).'"},{"name":"manual","value":"False"},{"name":"new_layout","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"   Set New preconditions","time":{"start":1724975994489,"stop":1724976018505,"duration":24016},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 110, in preconditions\n    self.to_do_de_authorisation_new(d, host)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"2024-08-29 23:27:15.151809   Start Authorisation","time":{"start":1724975999719,"stop":1724976003183,"duration":3464},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>"},{"name":"link","value":"'https://capital.com/en-ae'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-08-29 23:27:15.151825   Start DeAuthorisation","time":{"start":1724976003183,"stop":1724976018504,"duration":15321},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Start Logout from account info menu in top bar","time":{"start":1724976003183,"stop":1724976018504,"duration":15321},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>"},{"name":"link","value":"'https://capital.com/en-ae'"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>"},{"name":"host","value":"'https://capital.com/en-ae'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"7e1c9d1831e67e9e087da01f9bc09562\")>"},{"name":"cur_language","value":"''"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1d57c4fe2cf21975","name":"Screenshot","source":"1d57c4fe2cf21975.png","type":"image/png","size":156404},{"uid":"a8d7ef3df1a853cd","name":"log","source":"a8d7ef3df1a853cd.txt","type":"text/plain","size":837},{"uid":"cfd84f7a63c17400","name":"stdout","source":"cfd84f7a63c17400.txt","type":"text/plain","size":3211}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1724976358319,"stop":1724976358643,"duration":324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"TC_55!330 | “Support” chat window is not opened after click on the “Support” button and this button disappears after the second clicking on it on any page after changing the language of the site (e.g. from EN to AR) (SCA license)."},{"name":"feature","value":"Role: NoAuth"},{"name":"story","value":"Country: ae"},{"name":"tag","value":"bug_330"},{"name":"tag","value":"us_55"},{"name":"parentSuite","value":"tests.US_55_ReTestsManual.saii-d3v"},{"name":"suite","value":"US_55-saii-d3v_ReTestsManual_test"},{"name":"subSuite","value":"TestManualDetectedBugs"},{"name":"host","value":"fv-az730-719"},{"name":"thread","value":"15182-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_55_ReTestsManual.saii-d3v.US_55-saii-d3v_ReTestsManual_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'ae'"},{"name":"cur_language","value":"''"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":6},"items":[{"uid":"f9050931ca5d2af","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/119//#testresult/f9050931ca5d2af","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724890775663,"stop":1724890799291,"duration":23628}},{"uid":"a2ea78ed40b16cfd","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/118//#testresult/a2ea78ed40b16cfd","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724861340127,"stop":1724861364680,"duration":24553}},{"uid":"6eeaa52de95f9e82","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/117//#testresult/6eeaa52de95f9e82","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724803104351,"stop":1724803127089,"duration":22738}},{"uid":"ff5c0f3c150e6df8","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/116//#testresult/ff5c0f3c150e6df8","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724774428871,"stop":1724774453731,"duration":24860}},{"uid":"a9556747ed0f473b","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/115//#testresult/a9556747ed0f473b","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724717202760,"stop":1724717226093,"duration":23333}}]},"tags":["bug_330","us_55"]},"source":"cbf855e01b4c3f51.json","parameterValues":["'ae'","''","'test001.miketar+1@gmail.com'","'Qwer1234-!@#$'","'NoAuth'","'Chrome'"]}