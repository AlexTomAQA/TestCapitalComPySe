{"uid":"53ab389e2a76bd43","name":"TC_55!335 (Lang: ar) | Bid:55!335-ar.ae.NoAuth","fullName":"tests.US_55_ReTestsManual.saii-d3v.US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs#test_335","historyId":"498a5abd21c5c87163bc68b365d193d5","time":{"start":1724891096601,"stop":1724891120893,"duration":24292},"description":"\n         Check: Error message is displayed\n         after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading)\n         in the tile “التداول على الأسهم” (Shares trading)\n         on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected\n         Language: AR.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         ","descriptionHtml":"<pre><code>     Check: Error message is displayed\n     after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading)\n     in the tile “التداول على الأسهم” (Shares trading)\n     on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected\n     Language: AR.\n     License: SCA.\n     Author: Sergey Aiidzhanov\n</code></pre>\n","status":"failed","statusMessage":"Failed: Bug!   De authorisation failed","statusTrace":"self = <US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs object at 0x7fc97070bb00>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>\ncur_language = 'ar', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step(\n        'Start retest manual TC_55!335 | Error message is displayed '\n        'after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) '\n        'in the tile “التداول على الأسهم” (Shares trading) '\n        'on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected')\n    @pytest.mark.parametrize('cur_language', ['ar'])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', ['Auth', 'NoAuth', 'NoReg'])\n    @pytest.mark.bug_335\n    def test_335(self, worker_id, d, cur_language, cur_country, cur_role,\n                 cur_login, cur_password):\n        \"\"\"\n         Check: Error message is displayed\n         after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading)\n         in the tile “التداول على الأسهم” (Shares trading)\n         on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected\n         Language: AR.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         \"\"\"\n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"335\",\n            'Error message is displayed '\n            'after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) '\n            'in the tile “التداول على الأسهم” (Shares trading) '\n            'on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected',\n            False,\n            False\n        )\n    \n        # Arrange\n        page_conditions = NewConditions(d)\n>       link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL_NEW_EN_AE, \"\",\n            cur_language, cur_country, cur_role, cur_login, cur_password\n        )\n\ntests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py:1013: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/conditions_new.py:110: in preconditions\n    self.to_do_de_authorisation_new(d, host)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.conditions_new.NewConditions object at 0x7fc970621640>\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>\nlink = 'https://capital.com/en-ae'\n\n    @allure.step(f\"{datetime.now()}   Start DeAuthorisation\")\n    def to_do_de_authorisation_new(self, d, link):\n        \"\"\"DeAuthorisation\"\"\"\n        print(f\"\\n\" f\"{datetime.now()}   Start DeAuthorisation\")\n    \n        top_bar = TopBar(d, link)\n        if not top_bar.trading_platform_top_bar_account_info_menu_logout():\n            msg = \"De authorisation failed\"\n            print(f\"{datetime.now()}   => {msg}\")\n>           pytest.fail(f\"Bug!   {msg}\")\nE           Failed: Bug!   De authorisation failed\n\npages/conditions_new.py:242: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"d","time":{"start":1724888806984,"stop":1724888807413,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_login","time":{"start":1724888807413,"stop":1724888807413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1724888807413,"stop":1724888807413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cur_password","time":{"start":1724888807413,"stop":1724888807413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n         Check: Error message is displayed\n         after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading)\n         in the tile “التداول على الأسهم” (Shares trading)\n         on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected\n         Language: AR.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         ","status":"failed","statusMessage":"Failed: Bug!   De authorisation failed","statusTrace":"self = <US_55-saii-d3v_ReTestsManual_test.TestManualDetectedBugs object at 0x7fc97070bb00>\nworker_id = 'master'\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>\ncur_language = 'ar', cur_country = 'ae', cur_role = 'NoAuth'\ncur_login = 'test001.miketar+1@gmail.com', cur_password = 'Qwer1234-!@#$'\n\n    @allure.step(\n        'Start retest manual TC_55!335 | Error message is displayed '\n        'after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) '\n        'in the tile “التداول على الأسهم” (Shares trading) '\n        'on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected')\n    @pytest.mark.parametrize('cur_language', ['ar'])\n    @pytest.mark.parametrize('cur_country', ['ae'])\n    @pytest.mark.parametrize('cur_role', ['Auth', 'NoAuth', 'NoReg'])\n    @pytest.mark.bug_335\n    def test_335(self, worker_id, d, cur_language, cur_country, cur_role,\n                 cur_login, cur_password):\n        \"\"\"\n         Check: Error message is displayed\n         after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading)\n         in the tile “التداول على الأسهم” (Shares trading)\n         on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected\n         Language: AR.\n         License: SCA.\n         Author: Sergey Aiidzhanov\n         \"\"\"\n        bid = build_dynamic_arg_for_us_55(\n            d, worker_id, cur_language, cur_country, cur_role,\n            \"55\", \"ReTests of Manual Detected Bugs\",\n            \"335\",\n            'Error message is displayed '\n            'after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) '\n            'in the tile “التداول على الأسهم” (Shares trading) '\n            'on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected',\n            False,\n            False\n        )\n    \n        # Arrange\n        page_conditions = NewConditions(d)\n>       link = page_conditions.preconditions(\n            d, CapitalComPageSrc.URL_NEW_EN_AE, \"\",\n            cur_language, cur_country, cur_role, cur_login, cur_password\n        )\n\ntests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py:1013: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/conditions_new.py:110: in preconditions\n    self.to_do_de_authorisation_new(d, host)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.conditions_new.NewConditions object at 0x7fc970621640>\nd = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>\nlink = 'https://capital.com/en-ae'\n\n    @allure.step(f\"{datetime.now()}   Start DeAuthorisation\")\n    def to_do_de_authorisation_new(self, d, link):\n        \"\"\"DeAuthorisation\"\"\"\n        print(f\"\\n\" f\"{datetime.now()}   Start DeAuthorisation\")\n    \n        top_bar = TopBar(d, link)\n        if not top_bar.trading_platform_top_bar_account_info_menu_logout():\n            msg = \"De authorisation failed\"\n            print(f\"{datetime.now()}   => {msg}\")\n>           pytest.fail(f\"Bug!   {msg}\")\nE           Failed: Bug!   De authorisation failed\n\npages/conditions_new.py:242: Failed","steps":[{"name":"Start retest manual TC_55!335 | Error message is displayed after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) in the tile “التداول على الأسهم” (Shares trading) on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected","time":{"start":1724891096601,"stop":1724891120892,"duration":24291},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/tests/US_55_ReTestsManual/saii-d3v/US_55-saii-d3v_ReTestsManual_test.py\", line 1013, in test_335\n    link = page_conditions.preconditions(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 110, in preconditions\n    self.to_do_de_authorisation_new(d, host)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Build dynamic argument for TCs of US_55","time":{"start":1724891096601,"stop":1724891096603,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>"},{"name":"worker_id","value":"'master'"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"us","value":"'55'"},{"name":"desc_us","value":"'ReTests of Manual Detected Bugs'"},{"name":"num_tc","value":"'335'"},{"name":"desc_tc","value":"'Error message is displayed after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) in the tile “التداول على الأسهم” (Shares trading) on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected'"},{"name":"manual","value":"False"},{"name":"new_layout","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"   Set New preconditions","time":{"start":1724891096603,"stop":1724891120892,"duration":24289},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 110, in preconditions\n    self.to_do_de_authorisation_new(d, host)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"2024-08-28 23:46:46.943516   Start Authorisation","time":{"start":1724891102082,"stop":1724891105380,"duration":3298},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>"},{"name":"link","value":"'https://capital.com/en-ae'"},{"name":"login","value":"'test001.miketar+1@gmail.com'"},{"name":"password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2024-08-28 23:46:46.943528   Start DeAuthorisation","time":{"start":1724891105380,"stop":1724891120892,"duration":15512},"status":"failed","statusMessage":"Failed: Bug!   De authorisation failed\n","statusTrace":"  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/TestCapitalComPySe/TestCapitalComPySe/pages/conditions_new.py\", line 242, in to_do_de_authorisation_new\n    pytest.fail(f\"Bug!   {msg}\")\n  File \"/home/runner/.cache/pypoetry/virtualenvs/testcapitalcompyse-CcJ6hTD8-py3.12/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Start Logout from account info menu in top bar","time":{"start":1724891105380,"stop":1724891120891,"duration":15511},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>"},{"name":"link","value":"'https://capital.com/en-ae'"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>"},{"name":"host","value":"'https://capital.com/en-ae'"},{"name":"end_point","value":"''"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"worker_id","value":"'master'"},{"name":"d","value":"<selenium.webdriver.chrome.webdriver.WebDriver (session=\"60497e01f252fe6ff19f5dac271f88d7\")>"},{"name":"cur_language","value":"'ar'"},{"name":"cur_country","value":"'ae'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f8007ec010002b5f","name":"Screenshot","source":"f8007ec010002b5f.png","type":"image/png","size":144390},{"uid":"77fe6ea8f228b59e","name":"log","source":"77fe6ea8f228b59e.txt","type":"text/plain","size":837},{"uid":"8e1be6e719aedc9e","name":"stdout","source":"8e1be6e719aedc9e.txt","type":"text/plain","size":3275}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"d::0","time":{"start":1724891147564,"stop":1724891147897,"duration":333},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"TC_55!335 | Error message is displayed after clicking the link “تعلّم المزيد حول كيفيّة التداول على الأسهم“ (Learn more about shares trading) in the tile “التداول على الأسهم” (Shares trading) on the page “ما هو مفهوم التداول على النفط” (What is oil trading) when AR language is selected"},{"name":"feature","value":"Role: NoAuth"},{"name":"story","value":"Country: ae"},{"name":"tag","value":"bug_335"},{"name":"tag","value":"us_55"},{"name":"parentSuite","value":"tests.US_55_ReTestsManual.saii-d3v"},{"name":"suite","value":"US_55-saii-d3v_ReTestsManual_test"},{"name":"subSuite","value":"TestManualDetectedBugs"},{"name":"host","value":"fv-az692-64"},{"name":"thread","value":"11681-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.US_55_ReTestsManual.saii-d3v.US_55-saii-d3v_ReTestsManual_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"cur_country","value":"'ae'"},{"name":"cur_language","value":"'ar'"},{"name":"cur_login","value":"'test001.miketar+1@gmail.com'"},{"name":"cur_password","value":"'Qwer1234-!@#$'"},{"name":"cur_role","value":"'NoAuth'"},{"name":"d","value":"'Chrome'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":5},"items":[{"uid":"69f147237d3b8a4f","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/118//#testresult/69f147237d3b8a4f","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724861651836,"stop":1724861676799,"duration":24963}},{"uid":"ebdf4481aa05d5ac","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/117//#testresult/ebdf4481aa05d5ac","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724803426528,"stop":1724803450678,"duration":24150}},{"uid":"3f6418d4bd4183af","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/116//#testresult/3f6418d4bd4183af","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724774744312,"stop":1724774768283,"duration":23971}},{"uid":"1649038eeab7b026","reportUrl":"https://AlexTomAQA.github.io/TestCapitalComPySe/115//#testresult/1649038eeab7b026","status":"failed","statusDetails":"Failed: Bug!   De authorisation failed","time":{"start":1724717512150,"stop":1724717535823,"duration":23673}}]},"tags":["us_55","bug_335"]},"source":"53ab389e2a76bd43.json","parameterValues":["'ae'","'ar'","'test001.miketar+1@gmail.com'","'Qwer1234-!@#$'","'NoAuth'","'Chrome'"]}